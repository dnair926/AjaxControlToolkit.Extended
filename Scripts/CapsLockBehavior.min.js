(function(){function n(){Type.registerNamespace("WebExtenders");WebExtenders.CapsLockBehavior=function(n){WebExtenders.CapsLockBehavior.initializeBase(this,[n]);this._warningIconImageUrl=null;this._closeImageUrl=null;this._cssClass="ajax__capsLock";this._width="200px";this._popupTable=null;this._errorMessageCell=null;this._calloutArrowCell=null;this._warningIconImage=null;this._closeImage=null;this._closeCellInnerDiv=null;this._popupBehavior=null;this._onShowJson=null;this._onHideJson=null;this._keypressAttached=!1;this._blurAttached=!1;this._isOpen=!1;this._isBuilt=!1;this._timer=null;this._keypressHandler=null;this._blurHandler=null;this._closeClickHandler=null;this._oncomplete$delegate=Function.createDelegate(this,this.hide)};WebExtenders.CapsLockBehavior.prototype={initialize:function(){WebExtenders.CapsLockBehavior.callBaseMethod(this,"initialize");var n=this.get_element();this._keypressHandler=Function.createDelegate(this,this._onkeypress);this._blurHandler=Function.createDelegate(this,this._onblur);this._closeClickHandler=Function.createDelegate(this,this._oncloseClick);this._keypressAttached||($addHandler(n,"keypress",this._keypressHandler),this._keypressAttached=!0);this._blurAttached||($addHandler(n,"blur",this._blurHandler),this._blurAttached=!0)},_ensureCallout:function(){var r,u,v;if(!this._isBuilt){var y=this.get_element(),n=this._popupTable=document.createElement("table"),p=document.createElement("tbody"),t=document.createElement("tr"),f=document.createElement("td"),i=document.createElement("table"),w=document.createElement("tbody"),e=document.createElement("tr"),o=document.createElement("td"),s=document.createElement("td"),h=this._closeCellInnerDiv=document.createElement("div"),c=this._calloutArrowCell=document.createElement("td"),l=this._warningIconImage=document.createElement("img"),b=this._closeImage=document.createElement("img"),a=this._errorMessageCell=document.createElement("td");for(n.id=this.get_id()+"_popupTable",n.cellPadding=0,n.cellSpacing=0,n.border=0,n.width=this.get_width(),n.className=this._cssClass,t.className="ajax__capsLock_popup_table_row",f.className="ajax__capsLock_callout_cell",i.cellPadding=0,i.cellSpacing=0,i.border=0,i.className="ajax__capsLock_callout_table",e.className="ajax__capsLock_callout_table_row",c.className="ajax__capsLock_callout_arrow_cell",o.className="ajax__capsLock_icon_cell",l.border=0,l.src=this.get_warningIconImageUrl(),a.className="ajax__capsLock_error_message_cell",a.innerHTML=this._getErrorMessage(),s.className="ajax__capsLock_close_button_cell",h.className="ajax__capsLock_innerdiv",b.src=this.get_closeImageUrl(),y.parentNode.appendChild(n),n.appendChild(p),p.appendChild(t),t.appendChild(f),f.appendChild(i),i.appendChild(w),w.appendChild(e),e.appendChild(c),t.appendChild(o),o.appendChild(l),t.appendChild(a),t.appendChild(s),h.appendChild(b),s.appendChild(h),r=document.createElement("div"),r.className="ajax__capsLock_innerdiv",c.appendChild(r),u=14;u>0;u--)v=document.createElement("div"),v.style.width=u.toString()+"px",r.appendChild(v);this._popupBehavior=$create(Sys.Extended.UI.PopupBehavior,{positioningMode:Sys.Extended.UI.PositioningMode.Absolute,parentElement:y},{},null,this._popupTable);this._onShowJson&&this._popupBehavior.set_onShow(this._onShowJson);this._onHideJson&&this._popupBehavior.set_onHide(this._onHideJson);$addHandler(this._closeCellInnerDiv,"click",this._closeClickHandler);this._isBuilt=!0}},dispose:function(){if(this._isBuilt){this.hide();var n=this.get_element();this._keypressAttached&&($removeHandler(n,"keypress",this._keypressHandler),this._keypressAttached=!1);this._blurAttached&&($removeHandler(n,"blur",this._blurHandler),this._blurAttached=!1);$removeHandler(this._closeCellInnerDiv,"click",this._closeClickHandler);this._onShowJson=null;this._onHideJson=null;this._popupBehavior&&(this._popupBehavior.dispose(),this._popupBehavior=null);this._closeBehavior&&(this._closeBehavior.dispose(),this._closeBehavior=null);this._popupTable&&(this._popupTable.parentNode.removeChild(this._popupTable),this._popupTable=null,this._errorMessageCell=null,this._calloutArrowCell=null,this._warningIconImage=null,this._closeImage=null,this._closeCellInnerDiv=null);this._isBuilt=!1}WebExtenders.CapsLockBehavior.callBaseMethod(this,"dispose")},_getErrorMessage:function(){return"<span style='white-space:nowrap;font-size:9pt;'>Caps Lock key on your keyboard is on.<\/span><br /><span style='font-weight:normal;'>(If this is in error then turn Caps Lock key off and enter password again.)<\/span>"},show:function(n){(n||!this._isOpen)&&(this._isOpen=!0,n&&WebExtenders.CapsLockBehavior._currentCallout&&WebExtenders.CapsLockBehavior._currentCallout.hide(),WebExtenders.CapsLockBehavior._currentCallout=this,this._popupBehavior.set_x($common.getSize(this.get_element()).width),this._popupBehavior.show())},hide:function(){WebExtenders.CapsLockBehavior._currentCallout===this&&(WebExtenders.CapsLockBehavior._currentCallout=null);(this._isOpen||$common.getVisible(this._popupTable))&&(this._isOpen=!1,this._popupBehavior.hide())},checkCapsLock:function(n){this._timer&&(clearTimeout(this._timer),this._timer=null);var t=n.keyCode?n.keyCode:n.rawEvent.keyCode,i=n.shiftKey;t>=65&&t<=90||t>=97&&t<=122?t>=65&&t<=90&&!i||t>=97&&t<=122&&i?(this._ensureCallout(),this.show(!0),this._timer=setTimeout(this._oncomplete$delegate,2e3)):this.hide():t===20&&this.hide()},_onkeypress:function(n){return this.checkCapsLock(n)},_onblur:function(){this.hide()},_oncloseClick:function(){this.hide()},get_onShow:function(){return this._popupBehavior?this._popupBehavior.get_onShow():this._onShowJson},set_onShow:function(n){this._popupBehavior?this._popupBehavior.set_onShow(n):this._onShowJson=n;this.raisePropertyChanged("onShow")},get_onShowBehavior:function(){return this._popupBehavior?this._popupBehavior.get_onShowBehavior():null},onShow:function(){this._popupBehavior&&this._popupBehavior.onShow()},get_onHide:function(){return this._popupBehavior?this._popupBehavior.get_onHide():this._onHideJson},set_onHide:function(n){this._popupBehavior?this._popupBehavior.set_onHide(n):this._onHideJson=n;this.raisePropertyChanged("onHide")},get_onHideBehavior:function(){return this._popupBehavior?this._popupBehavior.get_onHideBehavior():null},onHide:function(){this._popupBehavior&&this._popupBehavior.onHide()},get_warningIconImageUrl:function(){return this._warningIconImageUrl},set_warningIconImageUrl:function(n){this._warningIconImageUrl!==n&&(this._warningIconImageUrl=n,this.get_isInitialized()&&(this._warningIconImage.src=n),this.raisePropertyChanged("warningIconImageUrl"))},get_closeImageUrl:function(){return this._closeImageUrl},set_closeImageUrl:function(n){this._closeImageUrl!==n&&(this._closeImageUrl=n,this.get_isInitialized()&&(this._closeImage.src=n),this.raisePropertyChanged("closeImageUrl"))},get_width:function(){return this._width},set_width:function(n){this._width!==n&&(this._width=n,this.get_isInitialized()&&(this._popupTable.style.width=_width),this.raisePropertyChanged("width"))},get_cssClass:function(){return this._cssClass},set_cssClass:function(n){this._cssClass!==n&&(this._cssClass=n,this.raisePropertyChanged("cssClass"))},get_isOpen:function(){return this._isOpen}};WebExtenders.CapsLockBehavior.registerClass("WebExtenders.CapsLockBehavior",Sys.Extended.UI.BehaviorBase)}window.Sys&&Sys.loader?Sys.loader.registerScript("CapsLock",["ExtendedBase","ExtendedCommon"],n):n()})();